/* || RESET */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video, button, input {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

/* || General */

html,
body {
  height: 100vh;
  font-size: 16px;
}

body {
  --cell-size: 2.2vw;

  display: flex;
  flex-flow: column;
  align-items: center;
  gap: 50px;
}

/* || Utils */

button {
  cursor: pointer;
}

.port__heading,
.heading,
.gameboard__coordinate,
.gameboard__description {
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
}

/* || Heading */

.heading {
  margin-top: 50px;
  font-size: 3rem;
  margin-left: var(--cell-size);
}

/* || Game */

.game {
  --button-height: calc(var(--cell-size) * 1.3);
  --button-width: calc(var(--cell-size) * 10 * 3 / 8);

  position: relative;

  display: flex;
  justify-content: center;
  gap: 5rem;
}

/* || Gameboard */

.gameboard {
  display: none;
  grid-template-rows: var(--cell-size) calc(var(--cell-size) * 10) calc(var(--cell-size) * 2) calc(var(--cell-size) * 2);
  grid-template-columns: var(--cell-size) calc(var(--cell-size) * 10 * 3 / 5) 1fr;
}

.gameboard.is-visible {
  display: grid;
}

/* || Coordinates */

.gameboard__coordinates {
  display: flex;
}

.gameboard__coordinates--letters {
  grid-row: 1 / 2;
  grid-column: 2 / -1;

  flex-flow: row nowrap;
}

.gameboard__coordinates--numbers {
  grid-row: 2 / -1;
  grid-column: 1 / 2;

  flex-flow: column nowrap;
}

.gameboard__coordinate {
  height: var(--cell-size);
  width: var(--cell-size);

  display: flex;
  justify-content: center;
  align-items: center;
}

/* || Battlefield */

.gameboard__battlefield {
  grid-row: 2 / -1;
  grid-column: 2 / -1;
  
  display: grid;
  grid-template: repeat(10, 1fr) / repeat(10, 1fr);

  width: calc(var(--cell-size) * 10);
  height: calc(var(--cell-size) * 10); /* Viewport width, not height */

  border-left: 1px solid black;
  border-bottom: 1px solid black;
}

/* || Gameboard cells */

.gameboard__cell {
  position: relative;
  /* It will contain attack results as children. */
  /* They should be centered */
  display: flex;
  justify-content: center;
  align-items: center;


  border-right: 1px solid black;
  border-top: 1px solid black;
}

.gameboard__missed {
  width: calc(var(--cell-size) / 4);
  height: calc(var(--cell-size) / 4);

  border-radius: 100%;
  background: black;
}

.gameboard__hit {
  width: calc(var(--cell-size) / 3);
  height: calc(var(--cell-size) / 3);

  transform: rotate(10deg);

  background: rgb(172, 0, 0);
}

/* || Gameboard buttons */

.gameboard__btn {
  display: none;
  align-self: end;
  justify-self: end;

  justify-content: center;
  align-items: center;
}

.gameboard__btn.is-visible {
  display: flex;
}

.gameboard__btn--random {
  grid-row: 3 / 4;
  grid-column: 3 / -1;
}

.gameboard__btn--start {
  grid-row: 3 / 4;
  grid-column: 2 / 3;

  background: rgb(20, 29, 80);
  color: white;
}

.gameboard__buttons.is-visible {
  display: flex;
}

.gameboard__btn {
  width: var(--button-width);
  height: var(--button-height);
}

.gameboard__description {
  grid-row: 3 / 4;
  grid-column: 2 / 4;
  
  display: none;

  font-size: calc(1rem + 4px);
}

.gameboard__description--player {
  margin-right: calc(var(--cell-size) / 4);
}

.gameboard__description.is-visible {
  display: flex;
  justify-content: center;
  align-items: start;

  padding: 1rem;
}

.ship {
  position: absolute;
  top: -1px;
  left: -1px;
  z-index: 10;

  border: 2px solid #470fff;
  background: #e4d6ff6c;
}

.ship--sunk {
  border: 2px solid #ff0f0f;
  background: #ffd6d66c;
}

.ship--4 {
  width: calc(var(--cell-size) * 4 - 2px);
  height: calc(var(--cell-size) - 2px);
}

.ship--3 {
  width: calc(var(--cell-size) * 3 - 2px);
  height: calc(var(--cell-size) - 2px);
}

.ship--2 {
  width: calc(var(--cell-size) * 2 - 2px);
  height: calc(var(--cell-size) - 2px);
}

.ship--1 {
  width: calc(var(--cell-size) * 1 - 2px);
  height: calc(var(--cell-size) - 2px);
}

/* || Game result */ 

.container--result {
  position: absolute;

  display: none;
  width: 100%;
  height: 100%;

  justify-content: center;
  align-items: center;
}

.container--result.is-visible {
  display: flex;
}

.result {
  --result-width: calc(var(--cell-size) * 9);
  --result-height: calc(var(--cell-size) * 4.5);
  z-index: 20;

  margin-bottom: 100px;
  display: flex;

  width: var(--result-width);
  height: var(--result-height);
  padding: var(--cell-size);

  flex-flow: column;
  justify-content: space-between;
  align-items: center;

  border: 2px solid rgb(0, 0, 0);
  border-radius: 6px;
  background: #fff;
}

.result__message {
  padding: calc(var(--cell-size) / 2);
  font-size: calc(var(--cell-size) / 1.3);

  text-align: center;
}

.result__btn {
  width: calc(var(--result-width) * 1 / 2);
  height: calc(var(--cell-size) * 1.5);
}